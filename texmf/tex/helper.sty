\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{helper}[2024/08/08 helper environments and functions]

\ExplSyntaxOn

\NewDocumentCommand{\getenv}{om}
 {
  \sys_get_shell:nnN { kpsewhich ~ --var-value ~ #2 } { } \l_tmpa_tl
  \tl_trim_spaces:N \l_tmpa_tl
  \IfNoValueTF { #1 }
   {
    \tl_use:N \l_tmpa_tl
   }
   {
    \tl_set_eq:NN #1 \l_tmpa_tl
   }
 }

\ExplSyntaxOff

\getenv[\HOME]{HOME}
\newcommand{\globimagepath}{\HOME/.local/share/omnidoc/image/}
