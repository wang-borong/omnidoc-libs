\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{ctrep}[2024/08/22 v0.4 my ct report style package]

\RequirePackage{kvoptions}
\SetupKeyvalOptions{
  family=ctrep,
  prefix=ctrep@,
  setkeys=\kvsetkeys,
}

\DeclareStringOption[blue]{color}
\DeclareStringOption[a4paper]{paper}

\ProcessKeyvalOptions*\relax

\RequirePackage[type=report]{ctify}

\RequirePackage{geometry}
\geometry{
  paper=\ctrep@paper,
}

\RequirePackage[
  color=\ctrep@color,
]{ctcolor}

\RequirePackage{fancyhdr}
\fancyhf{}

\fancyfoot[c]{\color{basis-color}\small\thepage}
\fancyhead[R]{\color{basis-color}\rightmark}

\renewcommand{\headrule}{\color{basis-color}\hrule}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{1pt}
\fancypagestyle{plain}{\renewcommand{\headrulewidth}{0pt}\fancyhf{}\renewcommand{\headrule}{}}
\renewcommand{\sectionmark}[1]{\markright{\CTEXthesection\, #1}{}}
\renewcommand{\subsectionmark}[1]{\markright{\CTEXthesubsection\, #1}{}}

\endinput
