\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{crefcn}[2023/9/20 chinese translation for cleveref]

% 据网上说，cleverref 应该放在 hyperref 之后
\RequirePackage{cleveref}
\RequirePackage{xparse}

\crefname{equation}{式}{式}
\crefname{figure}{图}{图}
\crefname{table}{表}{表}
\crefname{page}{页}{页}
\crefname{chapter}{章}{章}
\crefname{section}{节}{节}
\crefname{appendix}{附录}{附录}
\crefname{theorem}{定理}{定理}
\crefname{lemma}{引理}{引理}
\crefname{corollary}{推论}{推论}
\crefname{proposition}{命题}{命题}
\crefname{definition}{定义}{定义}
\crefname{example}{例}{例}
\crefname{algorithm}{算法}{算法}
% \crefname{listing}{列表}{列表}
\crefname{listing}{代码}{代码}
\crefname{line}{行}{行}

\crefformat{chapter}{#2章节#1#3}
% \crefformat{chapter}{#2章节\zhnumber{#1}#3}
\crefformat{section}{#2章节#1#3}
\crefformat{subsection}{#2章节#1#3}
\crefformat{subsubsection}{#2章节#1#3}

\crefrangeformat{chapter}{#3章节#1#4至#5章节#2#6}
% \crefrangeformat{chapter}{#3章节\zhnumber{#1}#4至#5章节\zhnumber{#2}#6}
\crefrangeformat{section}{#3章节#1#4至#5章节#2#6}
\crefrangeformat{subsection}{#3章节#1#4至#5章节#2#6}
\crefrangeformat{subsubsection}{#3章节#1#4至#5章节#2#6}

\crefmultiformat{chapter}{#2章节#1#3}{和#2章节#1#3}{，#2章节#1#3}{和#2章节#1#3}
% \crefmultiformat{chapter}{#2章节\zhnumber{#1}#3}{和#2章节\zhnumber{#1}#3}{，#2章节\zhnumber{#1}#3}{和#2章节\zhnumber{#1}#3}
\crefmultiformat{section}{#2章节#1#3}{和#2章节#1#3}{，#2章节#1#3}{和#2章节#1#3}
\crefmultiformat{subsection}{#2章节#1#3}{和#2章节#1#3}{，#2章节#1#3}{和#2章节#1#3}
\crefmultiformat{subsubsection}{#2章节#1#3}{和#2章节#1#3}{，#2章节#1#3}{和#2章节#1#3}

\newcommand{\crefpairconjunction}{~和~}
\newcommand{\crefmiddleconjunction}{, }
\newcommand{\creflastconjunction}{~和~}
\newcommand{\crefpairgroupconjunction}{~和~}
\newcommand{\crefmiddlegroupconjunction}{, }
\newcommand{\creflastgroupconjunction}{~和~}
\newcommand{\crefrangeconjunction}{~至~}

\ExplSyntaxOn
\NewDocumentCommand{\cnref}{ m }{%
  \unskip\cref{#1}%remove the leading space
}
\ExplSyntaxOff

\endinput
